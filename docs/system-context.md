### **システムコンテキスト定義書：風力発電量シミュレーションシステム**

#### 1. 背景と目的 (Why)
風力発電機を特定の場所に設置する際、どの向きに固定するか、またどのような設備構成（特に変速比）を選ぶかが年間発電量を大きく左右します。本システムは、実際の風況データに基づき、**設置方角や設備構成による発電量の違いをシミュレーション**し、**おおよその年間発電量を見積もる**ことを目的とします。

#### 2. 提供価値 (Value)
* **合理的な仕様選定の支援:** 16方位の設置候補や、複数の変速比パターンにおける発電量を比較評価でき、データに基づいた合理的な仕様選定（設置方角、変速比）を支援します。
* **柔軟なモデル比較:** 風車や発電機の性能モデル（特性式）を外部ファイルで容易に差し替えられるため、様々なメーカーの製品を想定したシミュレーションが可能です。
* **事業計画の精度向上:** 選定した仕様における年間の発電量を見積もることで、事業計画の精度を高めます。

#### 3. 主要な関係者 (Who)
* **アクター (利用者):** データ分析者/研究者
* **ステークホルダー (利害関係者):** 発電事業者, 投資家など

#### 4. システムの責務と範囲 (What)
* **主要機能:**
    1.  **データ入力機能:**
        * 16方位で記録された風況時系列データを読み込む。
        * **風車や発電機の性能（特性式の係数）を定義したコンフィグファイル**を読み込む。
    2.  **シミュレーションシナリオ設定機能:** 利用者が分析したい以下のパラメータを複数設定できる。
        * **風車の固定角度（16方位の中から複数選択可）**
        * **変速比（複数の値を設定可 例: 3, 5, 8）**
    3.  **発電量計算エンジン:**
        * 設定された「固定角度」と「変速比」の**全ての組み合わせ**について、時系列計算を実行する。
        * 各時刻の計算では、有効風速 `V_eff` を算出し、コンフィグファイルから読み込んだ特性式を適用して発電量を算出する。
    4.  **シナリオ別 比較レポート機能:**
        * 「固定角度」と「変速比」の各組み合わせパターンについて、年間総発電量を計算する。
        * 結果をマトリクス表やグラフで表示し、どの組み合わせの時にどの程度の発電量が見込めるかを比較・可視化する。

* **スコープ（責任範囲）:**
    * **範囲内:** 指定された条件下での、設置角度・変速比ごとの理論上の発電量シミュレーションと比較。
    * **範囲外:** 風車の風向追従（ヨーイング）、複数風車の相互影響（ウェイク効果）、経済性評価。

#### 5. 重要な要素と制約 (How/Constraints)
* **主要データ:**
    * **入力:** 16方位の風況データ、**設備特性コンフィグファイル**、分析対象の固定角度（複数）、**分析対象の変速比（複数）**
    * **出力:** シナリオ（固定角度×変速比）ごとの年間総発電量比較レポート
* **制約・前提条件:**
    * **モデルの外部化:** 風車や発電機の性能を表す多項式などの**特性式は、外部の設定ファイル（コンフィグデータ）として定義**され、システムは実行時にこれを読み込むことを前提とします。
    * **風車角度の固定:** 風車は指定された特定の方角に完全に固定されており、風向に追従しないことを前提とします。
    * **有効風速の定義:** 発電量計算には、風向きとの角度差で補正された有効風速 `V × cos(θ)` を用います。
    * **分析の粒度:** 入力される風向データ、およびシミュレーションの角度の粒度は16方位であることを前提とします。
    * **空気密度:** 空気密度は一定であると仮定します。
